!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e){e.exports=JSON.parse('{"path":"src/assets/player/player.png","idle":{"offsetTop":0,"frames":22,"height":39,"width":31,"repeatFrom":6},"running":{"offsetTop":39,"frames":8,"height":36,"width":31,"repeatFrom":0},"jumping":{"offsetTop":75,"frames":9,"height":43,"width":29,"repeatFrom":0},"rolling":{"offsetTop":118,"frames":18,"width":30,"height":30,"repeatFrom":2}}')},function(e){e.exports=JSON.parse('{"path":"src/assets/enemies/enemies.png","motobug":{"frames":4,"width":39,"height":29,"repeatFrom":0,"offsetY":0},"groundbell":{"frames":15,"width":25,"height":23,"repeatFrom":0,"offsetY":29}}')},function(e){e.exports=JSON.parse('{"path":"src/assets/misc/coins.png","spinning":{"frames":12,"width":12,"height":16,"repeatFrom":0,"offsetY":0}}')},function(e){e.exports=JSON.parse('{"a":"src/assets/sound/coin.wav","b":"src/assets/sound/jump.wav"}')},function(e){e.exports=JSON.parse('{"a":"src/assets/background/parallax.png"}')},function(e){e.exports=JSON.parse('{"a":"src/assets/misc/floor.png"}')},function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(6);var o,r=function(e){var t=document.createElement("canvas"),n=t.getContext("2d");t.width=A.width,t.height=A.height,document.getElementById(A.bodyId).appendChild(t);var o=new Image;o.src=e,o.onload=function(){},o.crossOrigin="anonymous",this.canvas=t,this.ctx=n,this.asset=o},i="idle",a="running",s="jumping",c="rolling",l=n(0),d=n.t(l,2),h=function(e,t,n,o,r,i,a){e.clearRect(0,0,A.width,A.height);for(var s=0;s<3;s++)e.drawImage(t,0,0,t.width,t.height,o+s*t.width,r,i,a),u(e,o+s*t.width,r,i,a);return-1*o>=t.width?-1*n:o-n},u=function(e,t,n,o,r){A.showCollisors&&(e.beginPath(),e.strokeStyle="#FF0000",e.rect(t,n,o,r),e.stroke())},f=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),m=function(e){function t(){var t=e.call(this,l.path)||this;return t.frame=0,t.state=A.gameStarted?a:i,t.y=A.floorPosition-l.running.height,t.x=30,t.w=0,t.h=0,t.gravity=5,t.gravitySpeed=t.gravity,t.jumpForce=6.4,t.handleControlDown=function(e){A.gameStarted&&(38!==e.keyCode&&32!==e.keyCode||t.jump(),40===e.keyCode&&t.roll())},t.handleControlUp=function(e){40===e.keyCode&&t.state===c&&(t.state=a)},t.roll=function(){t.state===s?t.gravitySpeed=t.gravity:t.state===a&&(t.state=c)},t.jump=function(){t.state!==s&&A.gameStarted&&!A.gameover&&(t.state=s,t.gravitySpeed=t.gravity*t.jumpForce*-1,A.sound.jump())},t.renderPlayerAnimation=function(){var e=d[t.state],n=t.frame*e.width,o=e.offsetTop;t.w=e.width,t.h=e.height,t.ctx.clearRect(0,0,A.width,A.height),t.ctx.drawImage(t.asset,n,o,e.width,e.height,t.x,t.y,e.width,e.height),u(t.ctx,t.x,t.y,e.width,e.height);var r=A.floorPosition-e.height;t.gravitySpeed+=t.gravity;var i=t.y+t.gravitySpeed;i>=r&&(i=r,t.state===s&&(t.state=a)),t.y=i,t.frame=t.frame+1>=e.frames?e.repeatFrom:t.frame+1},t.render=function(){t.renderPlayerAnimation()},document.addEventListener("keydown",t.handleControlDown),document.addEventListener("keyup",t.handleControlUp),document.addEventListener("touchstart",t.jump),document.addEventListener("click",t.jump),t}return f(t,e),t}(r),p=n(4),y=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),g=function(e){function t(){var t=e.call(this,p.a)||this;return t.x=0,t.speed=0,t.render=function(){t.x=h(t.ctx,t.asset,t.speed,t.x,0,t.asset.width,t.canvas.height)},t}return y(t,e),t}(r),v=n(5),w=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),x=function(e){function t(){var t=e.call(this,v.a)||this;return t.x=0,t.render=function(){t.x=h(t.ctx,t.asset,A.miscSpeed,t.x,A.floorPosition,t.asset.width,t.asset.height)},t}return w(t,e),t}(r),S=function(){var e=this;this.countScore=function(){var t=Math.floor(A.score);e.highScore.textContent="high score: "+A.highscore,e.score.textContent="score: "+t,e.coins.textContent="coins: "+A.coinsBalance},this.showGameOver=function(){var t=Math.floor(A.score);e.gameover.style.display="flex",e.gameoverHighScore.textContent="high score: "+A.highscore,e.gameoverScore.textContent="score: "+t,e.gameoverCoins.textContent="coins: "+A.coinsBalance,setTimeout((function(){e.gameoverPlayAgain.style.display="flex"}),A.resetGameTime)},this.hideGameOver=function(){e.gameover.style.display="none",e.gameoverPlayAgain.style.display="none"},this.gameStart=function(){e.gamestart.style.display="none"};var t=document.createElement("div"),n=document.createElement("div"),o=document.createElement("p"),r=document.createElement("p"),i=document.createElement("p"),a=document.createElement("div"),s=document.createElement("p"),c=document.createElement("div"),l=document.createElement("p"),d=document.createElement("p"),h=document.createElement("div"),u=document.createElement("div"),f=document.createElement("div"),m=document.createElement("div");a.classList.add("gamestart-content"),s.classList.add("blink"),s.style.margin="0",s.style.width="100%",s.style.textAlign="center",s.style.display="table",s.textContent="Press any key or click to start!",c.style.width="100%",c.style.display="flex",c.style.justifyContent="center",c.style.alignItems="center",l.textContent="Game Over!",l.style.fontSize="40px",l.style.margin="0",l.style.position="relative",l.style.transform="translateY(-20px)",h.style.width="100%",h.style.position="absolute",h.style.left="0",h.style.bottom="95%",h.style.fontSize="13px",h.style.display="flex",h.style.flexDirection="row",h.textContent="High Score: "+A.highscore,u.style.width="100%",u.style.position="absolute",u.style.left="0",u.style.top="100%",u.style.fontSize="13px",u.style.display="flex",u.style.flexDirection="row",f.style.display="flex",f.style.flex="1",f.style.justifyContent="flex-start",f.textContent="score: ",m.style.display="flex",m.style.flex="1",m.style.justifyContent="flex-end",m.textContent="coins: ",d.style.display="none",d.style.position="absolute",d.style.width="100%",d.style.height="30px",d.style.bottom="15%",d.style.alignItems="center",d.style.justifyContent="center",d.style.fontSize="13px",d.style.textAlign="center",d.classList.add("blink"),d.textContent="Press any key to play again!",u.appendChild(f),u.appendChild(m),l.appendChild(h),l.appendChild(u),c.appendChild(l),n.appendChild(c),n.appendChild(d),a.appendChild(s),t.style.width=A.width+"px",t.style.height=A.height+"px",n.style.display="none",t.classList.add("hud-content"),n.classList.add("gameover-content"),o.classList.add("score-content"),i.classList.add("coins-content"),r.classList.add("highscore-content"),o.textContent="score: "+A.score,r.textContent="high score: "+A.highscore,i.textContent="coins: "+A.coinsBalance,t.appendChild(o),t.appendChild(r),t.appendChild(i),t.appendChild(n),t.appendChild(a),this.coins=i,this.score=o,this.highScore=r,this.content=t,this.gameover=n,this.gamestart=a,this.gameoverHighScore=h,this.gameoverScore=f,this.gameoverCoins=m,this.gameoverPlayAgain=d,document.getElementById(A.bodyId).appendChild(t)},C=n(1),b=n.t(C,2);function _(e,t){var n=Math.random()*(t-e)+e;return parseFloat(n.toFixed(2))}function E(e){for(var t=e.data,n=[],o=0;o<t.length;o+=4)0===t[o+3]?n.push(0):n.push(1);return n}function O(e,t,n,o,r,i){var a=e.getContext("2d").getImageData(n,o,r,i),s=t.getContext("2d").getImageData(n,o,r,i),c=E(a),l=E(s),d=!1;return c.forEach((function(e,t){1!==e||1!==l[t]||(d=!0)})),d}var j=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),P=function(e){function t(){var n=e.call(this,C.path)||this;return n.unlimitedEnemies=!0,n.enemiesLimit=6,n.enemies=[],n.minSeconds=.5,n.maxSeconds=1.2,n.handleCollider=function(){var e=A.player;O(n.canvas,e.canvas,e.x,e.y,e.w,e.h)&&(A.gameOver(),A.hud.showGameOver())},n.newEnemy=function(e){var t=b[e],o={h:t.height,w:t.width,x:A.width+2*t.width,y:A.floorPosition-t.height,frame:0,type:e};(n.unlimitedEnemies||!n.unlimitedEnemies&&n.enemies.length<n.enemiesLimit)&&A.enableEnemies&&A.gameStarted&&n.enemies.push(o)},n.render=function(){n.ctx.clearRect(0,0,A.width,A.height);var e=n.enemies.map((function(e){var t=b[e.type],o=e.frame*e.w,r=t.offsetY;return n.ctx.drawImage(n.asset,o,r,e.w,e.h,e.x,e.y,e.w,e.h),u(n.ctx,e.x,e.y,e.w,e.h),e.frame=e.frame+1>=t.frames?t.repeatFrom:e.frame+1,e.x-=A.miscSpeed,e.x+e.w<0?null:e}));n.enemies=e.filter((function(e){return!!e})),n.handleCollider()},n.setupEnemies=function(e){n.interval=setInterval((function(){clearInterval(n.interval),n.newEnemy(t.randomEnemyType());var e=_(n.minSeconds,n.maxSeconds);n.setupEnemies(1e3*e)}),e)},n.setupEnemies(1e3),n}return j(t,e),t.randomEnemyType=function(){var e=["groundbell","motobug"];return e[Math.floor(Math.random()*e.length)]},t}(r),I=n(2),T=n.t(I,2),F=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),k=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,r++)o[r]=i[a];return o},L=function(e){function t(){var t=e.call(this,I.path)||this;return t.coins=[],t.minSeconds=1,t.maxSeconds=3,t.prefabs={fivebyone:{rows:1,columns:5,addY:30},fivebytwo:{rows:2,columns:5,addY:15},fivebythree:{rows:3,columns:5,addY:0},threebythree:{rows:3,columns:3,addY:0}},t.state="spinning",t.getRandomPrefabType=function(){var e=["fivebyone","fivebytwo","fivebythree","threebythree"];return t.prefabs[e[Math.floor(Math.random()*e.length)]]},t.handleCoinCollision=function(e){var n=A.player,o=O(t.canvas,n.canvas,e.x,e.y,e.w,e.h);return o&&(A.sound.getCoin(),A.addCoinsBalance()),o},t.createCoins=function(){for(var e=[],n=t.getRandomPrefabType(),o=t.canvas.width,r=t.canvas.height/2+n.addY,i=T[t.state],a=0;a<n.rows;a++)for(var s=0;s<n.columns;s++){var c=o+s*i.width+10*s,l=r+a*i.height+10*a;e.push({frame:0,state:t.state,h:i.height,w:i.width,x:c,y:l})}A.enableCoins&&A.gameStarted&&(t.coins=k(t.coins,e))},t.setupCoins=function(e){t.interval=setInterval((function(){clearInterval(t.interval),t.createCoins();var e=_(t.minSeconds,t.maxSeconds);t.setupCoins(1e3*e)}),e)},t.setupCoins(2e3),t}return F(t,e),t.prototype.render=function(){var e=this;this.ctx.clearRect(0,0,A.width,A.height);var t=this.coins.map((function(t){var n=T[t.state],o=t.frame*t.w,r=n.offsetY;e.ctx.drawImage(e.asset,o,r,t.w,t.h,t.x,t.y,t.w,t.h);var i=e.handleCoinCollision(t);return u(e.ctx,t.x,t.y,t.w,t.h),t.frame=t.frame+1>=n.frames?n.repeatFrom:t.frame+1,t.x-=A.miscSpeed,t.x+t.w<0||i?null:t}));this.coins=t.filter((function(e){return!!e}))},t}(r),M=n(3),G=function(){var e=this;this.createSoundElement=function(e){var t=document.createElement("audio");return t.volume=0,t.autoplay=!0,t.src=e,document.body.append(t),t},this.getCoin=function(t){void 0===t&&(t=1),e.coinsFX.volume=t,e.coinsFX.currentTime=0,e.coinsFX.play()},this.jump=function(t){void 0===t&&(t=.5),e.jumpFX.volume=t,e.jumpFX.currentTime=0,e.jumpFX.play()};var t=this.createSoundElement(M.a),n=this.createSoundElement(M.b);this.coinsFX=t,this.jumpFX=n},A=new function(){var e=this;this.showCollisors=!1,this.bodyId="body-root",this.loaderId="loader-root",this.storageKey="IR-high-score",this.width=window.innerWidth<500?window.innerWidth:500,this.height=window.innerWidth<300?window.innerWidth:300,this.fps=1e3/30,this.score=0,this.highscore=Math.floor(parseFloat(window.localStorage.getItem(this.storageKey)))||0,this.coinsBalance=0,this.floorPosition=this.height-32,this.miscSpeed=0,this.resetGameTime=1500,this.gameStarted=!1,this.enableEnemies=!1,this.enableCoins=!1,this.gameover=!1,this.freeze=!1,this.canResetGame=!1,this.hideLoader=function(){setTimeout((function(){var t=document.getElementById(e.loaderId);t&&(t.classList.add("fadeout"),setTimeout((function(){t.style.display="none"}),1e3))}),_(1e3,2500))},this.handleTouchClick=function(){e.gameover&&e.resetGame(),e.gameStarted||e.gameStart()},this.handleKeyPress=function(t){var n=t.keyCode;!e.gameover||38!==n&&40!==n&&32!==n||e.resetGame(),e.gameStarted||38!==n&&40!==n&&32!==n||e.gameStart()},this.increaseSpeed=function(){if(e.gameStarted){var t=e.miscSpeed+.1;e.miscSpeed=t>25?25:t}},this.addCoinsBalance=function(){e.coinsBalance++},this.gameOver=function(){e.saveHighScore(),e.gameover=!0,e.toggleMisc(!1),setTimeout((function(){e.canResetGame=!0}),e.resetGameTime)},this.saveHighScore=function(){var t=parseFloat(window.localStorage.getItem(e.storageKey));if(t){var n=e.score>t?e.score:t;window.localStorage.setItem(e.storageKey,Math.floor(n).toString()),e.highscore=Math.floor(n)}else window.localStorage.setItem(e.storageKey,Math.floor(e.score).toString()),e.highscore=Math.floor(e.score)},this.freezeGame=function(){e.freeze=!0},this.resetGame=function(){e.gameover&&e.canResetGame&&(e.score=0,e.coinsBalance=0,e.enemies.enemies=[],e.coins.coins=[],e.miscSpeed=8,e.hud.hideGameOver(),e.gameover=!1,e.canResetGame=!1,setTimeout((function(){e.enableEnemies=!0}),1e3),setTimeout((function(){e.enableCoins=!0}),1500))},this.gameStart=function(){e.gameStarted||(e.hud.gameStart(),e.player.state=a,e.miscSpeed=8,e.background.speed=3,setTimeout((function(){e.gameStarted=!0}),200))},this.toggleMisc=function(t){e.enableEnemies=t,e.enableCoins=t},this.unfreezeGame=function(){e.freeze=!1},this.draw=function(){e.freeze||e.gameover||(e.gameStarted&&(e.score+=.4),e.background.render(),e.player.render(),e.floor.render(),e.enemies.render(),e.coins.render(),e.hud.countScore())},this.setup=function(){e.hideLoader(),e.background=new g,e.floor=new x,e.enemies=new P,e.coins=new L,e.player=new m,e.hud=new S,e.sound=new G,setInterval(e.draw,e.fps),setInterval(e.increaseSpeed,1e3),setTimeout((function(){e.enableEnemies=!0}),1e3),setTimeout((function(){e.enableCoins=!0}),1500)},document.addEventListener("keydown",this.handleKeyPress),document.addEventListener("touchstart",this.handleTouchClick),document.addEventListener("click",this.handleTouchClick)};A.setup()}]);